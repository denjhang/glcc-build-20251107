#VCPUv7

# ======== ('CODE', 'med3', code0)
def code0():
	label('med3');
	_PROLOGUE(16,4,0xf8); # save=R3-7
	MOVW(R8,R7);
	MOVW(R9,R6);
	MOVW(R10,R5);
	MOVW(R11,R4);
	LDW(R7);STW(R3);
	STW(R8);
	MOVW(R6,R9);
	CALL(R4);
	_BGE('.4');
	MOVW(R6,R3);
	label('.4');
	MOVW(R3,R8);
	MOVW(R5,R9);
	CALL(R4);
	_BLT('.6');
	LDW(R7);XORW(R6);XORW(R3);STW(R3);
	STW(R8);
	MOVW(R5,R9);
	CALL(R4);
	_BGE('.8');
	MOVW(R5,R3);
	label('.8');
	label('.6');
	LDW(R3);
	label('.3');
	_EPILOGUE(16,4,0xf8,saveAC=True);
# ======== ('CODE', 'qsort', code1)
def code1():
	label('qsort');
	_PROLOGUE(44,8,0xff); # save=R0-7
	MOVW(R8,R7);
	MOVW(R9,R6);
	MOVW(R10,R5);
	MOVW(R11,R4);
	label('.11');
	LDI(0);_STLW(-2+44);
	LDI(7);_CMPWU(R6);_BLE('.12');
	LDW(R5);ADDW(R7);_STLW(-8+44);
	_BRA('.17');
	label('.14');
	_LDLW(-8+44);STW(R3);
	_BRA('.21');
	label('.18');
	MOVW(R3,R8);
	LDW(R3);SUBW(R5);STW(R9);
	MOVW(R5,R10);
	CALLI('_memswp');
	label('.19');
	LDW(R5);SUBV(R3);
	label('.21');
	LDW(R3);_CMPWU(R7);_BLE('.22');
	LDW(R3);SUBW(R5);STW(R8);
	MOVW(R3,R9);
	CALL(R4);
	_BGT('.18');
	label('.22');
	label('.15');
	_LDLW(-8+44);ADDW(R5);_STLW(-8+44);
	label('.17');
	LDW(R6);_MUL(R5);ADDW(R7);STW(R23);
	_LDLW(-8+44);_CMPWU(R23);_BLT('.14');
	_BRA('.10');
	label('.12');
	LDW(R6);_SHRIU(1);_MUL(R5);ADDW(R7);_STLW(-8+44);
	LDI(7);_CMPWU(R6);_BGE('.23');
	LDW(R7);STW(R3);
	LDW(R6);SUBI(1);_MUL(R5);ADDW(R7);_STLW(-12+44);
	LDI(40);_CMPWU(R6);_BGE('.25');
	LDW(R6);_SHRIU(3);_MUL(R5);_STLW(-14+44);
	MOVW(R3,R8);
	STW(R23);
	ADDW(R3);STW(R9);
	LDW(R23);LSLW();ADDW(R3);STW(R10);
	MOVW(R4,R11);
	CALLI('med3');
	STW(R3);
	_LDLW(-8+44);STW(R23);
	_LDLW(-14+44);STW(R22);
	LDW(R23);SUBW(R22);STW(R8);
	MOVW(R23,R9);
	LDW(R22);ADDW(R23);STW(R10);
	MOVW(R4,R11);
	CALLI('med3');
	_STLW(-8+44);
	_LDLW(-12+44);STW(R23);
	_LDLW(-14+44);STW(R22);
	LSLW();STW(R21);
	LDW(R23);SUBW(R21);STW(R8);
	LDW(R23);SUBW(R22);STW(R9);
	MOVW(R23,R10);
	MOVW(R4,R11);
	CALLI('med3');
	_STLW(-12+44);
	label('.25');
	MOVW(R3,R8);
	_LDLW(-8+44);STW(R9);
	_LDLW(-12+44);STW(R10);
	MOVW(R4,R11);
	CALLI('med3');
	_STLW(-8+44);
	label('.23');
	MOVW(R7,R8);
	_LDLW(-8+44);STW(R9);
	MOVW(R5,R10);
	CALLI('_memswp');
	LDW(R5);ADDW(R7);
	STW(R2);
	_STLW(-4+44);
	LDW(R6);SUBI(1);_MUL(R5);ADDW(R7);
	_STLW(-6+44);
	STW(R1);
	_BRA('.32');
	label('.31');
	LDW(R0);_BNE('.34');
	LDI(1);_STLW(-2+44);
	_LDLW(-4+44);STW(R8);
	MOVW(R2,R9);
	MOVW(R5,R10);
	CALLI('_memswp');
	_LDLW(-4+44);ADDW(R5);_STLW(-4+44);
	label('.34');
	LDW(R5);ADDV(R2);
	label('.32');
	LDW(R2);_CMPWU(R1);_BGT('.36');
	MOVW(R2,R8);
	MOVW(R7,R9);
	CALL(R4);
	STW(R0);
	_BLE('.31');
	label('.36');
	_BRA('.38');
	label('.37');
	LDW(R0);_BNE('.40');
	LDI(1);_STLW(-2+44);
	MOVW(R1,R8);
	_LDLW(-6+44);STW(R9);
	MOVW(R5,R10);
	CALLI('_memswp');
	_LDLW(-6+44);SUBW(R5);_STLW(-6+44);
	label('.40');
	LDW(R5);SUBV(R1);
	label('.38');
	LDW(R2);_CMPWU(R1);_BGT('.42');
	MOVW(R1,R8);
	MOVW(R7,R9);
	CALL(R4);
	STW(R0);
	_BGE('.37');
	label('.42');
	LDW(R2);_CMPWU(R1);_BLE('.43');
	_BRA('.29');
	label('.43');
	MOVW(R2,R8);
	MOVW(R1,R9);
	MOVW(R5,R10);
	CALLI('_memswp');
	LDI(1);_STLW(-2+44);
	LDW(R5);ADDV(R2);
	SUBV(R1);
	_BRA('.32');
	label('.29');
	_LDLW(-2+44);_BNE('.45');
	LDW(R5);ADDW(R7);_STLW(-8+44);
	_BRA('.50');
	label('.47');
	_LDLW(-8+44);STW(R3);
	_BRA('.54');
	label('.51');
	MOVW(R3,R8);
	LDW(R3);SUBW(R5);STW(R9);
	MOVW(R5,R10);
	CALLI('_memswp');
	label('.52');
	LDW(R5);SUBV(R3);
	label('.54');
	LDW(R3);_CMPWU(R7);_BLE('.55');
	LDW(R3);SUBW(R5);STW(R8);
	MOVW(R3,R9);
	CALL(R4);
	_BGT('.51');
	label('.55');
	label('.48');
	_LDLW(-8+44);ADDW(R5);_STLW(-8+44);
	label('.50');
	LDW(R6);_MUL(R5);ADDW(R7);STW(R23);
	_LDLW(-8+44);_CMPWU(R23);_BLT('.47');
	_BRA('.10');
	label('.45');
	LDW(R6);_MUL(R5);ADDW(R7);_STLW(-12+44);
	_LDLW(-4+44);STW(R23);
	LDW(R2);SUBW(R23);STW(R22);
	LDW(R23);SUBW(R7);_CMPWS(R22);_BGE('.57');
	_LDLW(-4+44);SUBW(R7);_STLW(-16+44);
	_BRA('.58');
	label('.57');
	_LDLW(-4+44);STW(R23);
	LDW(R2);SUBW(R23);_STLW(-16+44);
	label('.58');
	_LDLW(-16+44);_STLW(-10+44);
	MOVW(R7,R8);
	STW(R23);
	LDW(R2);SUBW(R23);STW(R9);
	MOVW(R23,R10);
	CALLI('_memswp');
	_LDLW(-6+44);STW(R23);
	_LDLW(-12+44);SUBW(R23);SUBW(R5);STW(R22);
	LDW(R23);SUBW(R1);_CMPWS(R22);_BGE('.60');
	_LDLW(-6+44);SUBW(R1);_STLW(-18+44);
	_BRA('.61');
	label('.60');
	_LDLW(-6+44);STW(R23);
	_LDLW(-12+44);SUBW(R23);SUBW(R5);_STLW(-18+44);
	label('.61');
	_LDLW(-18+44);_STLW(-10+44);
	MOVW(R2,R8);
	STW(R23);
	_LDLW(-12+44);SUBW(R23);STW(R9);
	MOVW(R23,R10);
	CALLI('_memswp');
	_LDLW(-4+44);STW(R23);
	LDW(R2);SUBW(R23);
	_STLW(-10+44);
	_CMPWU(R5);_BLE('.62');
	MOVW(R7,R8);
	_LDLW(-10+44);_DIVU(R5);STW(R9);
	MOVW(R5,R10);
	MOVW(R4,R11);
	CALLI('qsort');
	label('.62');
	_LDLW(-6+44);SUBW(R1);
	_STLW(-10+44);
	_CMPWU(R5);_BLE('.64');
	_LDLW(-10+44);STW(R23);
	_LDLW(-12+44);SUBW(R23);STW(R7);
	LDW(R23);_DIVU(R5);STW(R6);
	_BRA('.11');
	label('.64');
	label('.10');
	_EPILOGUE(44,8,0xff);
# ======== (epilog)
code=[
	('CODE', 'med3', code0),
	('EXPORT', 'qsort'),
	('CODE', 'qsort', code1),
	('IMPORT', '_memswp') ]
module(code=code, name='../gigatron/libc/qsort.c', cpu=7);

# Local Variables:
# mode: python
# indent-tabs-mode: t
# End:
